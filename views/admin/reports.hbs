

{{>adminNav}}

<style type="text/css" media="print">
    img {
       display: block;
    }
</style>

<div class="container mt-5 table-responsive">

    <div style="display: flex; flex-direction: row-reverse;">
        <div class="btn-group contact mb-3">
            <a class="btn btn-primary dropdown-toggle mb-2" data-bs-toggle="dropdown" aria-expanded="false">
                Download
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/admin/exportExcel">Excel</a></li>
                <li><button class="dropdown-item" onclick="pdf('tablePrint')">Pdf</button></li>

            </ul>
        </div>
    </div>

    <div class="table-wrap" id="tablePrint">
        <table id="myTable" class="table table-striped">
            <thead>
                <tr>
                    <th>Slno</th>
                    <th>Product</th>
                    <th>Product name</th>
                    <th>Order ID</th>
                    <th>Category</th>
                    <th>Quantity</th>
                        <th>Status</th>
                    <th>Payment mode</th>
                    
                    <th>Order Date</th>
                    <th>OrderBill</th>
                
                </tr>
            </thead>
            <tbody>
                {{#if orders}}
                {{orders.length}}

                {{#each orders}}
                {{#each items}}
                <tr>
                    <td>{{counter @index}} </td>
                    <td><img height="100" width="100" src="/images/{{img1}}" alt="img"></td>
                    <td>{{productName}} </td>
                    <td>{{_id}} </td>
                    <td>{{category}} </td>
                    <td>{{quantity}} </td> 
                    <td style="max-width: 200px">{{orderStatus}} </td>

                    {{/each}}
                    <td>{{paymentMode}} </td>
                    <td>{{formatDate orderDate}}</td>
                    <td style="font-weight: 700;">â‚¹ {{orderBill}} </td>
                   
                </tr>

                {{/each}}

            </tbody>
            {{else}}
            <h1>No orders</h1>
            {{/if}}
        </table>
    </div>
    
</div>


<script>
    $(document).ready(function () {
        $('#myTable').DataTable();
    });
</script>

<script>
    console.log("working")
    function pdf(pt) {
        var x = document.body.innerHTML;
        var y = document.getElementById('tablePrint').innerHTML;
        document.body.innerHTML = y;
       document.body.style.padding = "20px"
        document.body.style.margin = "20px"

        window.print();
        location.reload();
    }

    $(document).ready(function () {
        $('#myTable').DataTable()
    });
</script>

{{>foot}}